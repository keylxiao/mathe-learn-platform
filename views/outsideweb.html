<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/public.css" />

    <title>Website</title>
    <style>
        .selection {
            position: fixed;
            top: 300px;
            left: 250px;
            ;
        }

        .btn1 {
            width: 30px;
            height: 10px;
            font-size: 15px;
        }

        .btn2 {
            width: 300px;
            height: 20px;
            font-size: 34px;
        }

        .btn3 {
            width: 300px;
            height: 100px;
            font-size: 34px;
        }

        .btn4 {
            width: 300px;
            height: 100px;
            font-size: 34px;
        }
    </style>
    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/jquery.validata.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.staticfile.org/jquery/2.0.3/jquery.min.js"></script>

</head>

<body>
    <div id="header">
        <h3>各学科专业学习网站推荐</h3>
    </div>

    <div>
        <table>
            <thread>
                <tr>
                    <th>Name</th>
                    <th>Link</th>
                    <th>Class</th>
                    <th>BriefIntro</th>
                </tr>
            </thread>
            <!-- 查找 -->
            <div class="form-container sign-in">
                <!-- <form class="denglu_biaodan" action="http://127.0.0.1:8001/Website/OutsideWeb"> -->
                    <h3>查找</h3>
                    <input type="text" name="kw" id="kw" placeholder="关键字" >
                    <button class="search" id="search" ">查找</button>
                <!-- </form> -->
            </div>

            <!-- 显示框 -->
            <tbody id="Website">
            </tbody>

        </table>
    </div>

    <script>
        $(document).ready(function () {
            $.get('http://127.0.0.1:8001/Website/OutsideWeb', { kw: "" }, function (data) {
                var obj = eval(data)
                var tbody = document.getElementById('Website')
                
                for (var i = 0; i < obj.length; i++) {
                    var tr = document.createElement('tr')
                    tbody.appendChild(tr)
                    for (var k in obj[i]) {
                        if (k == "PictureId") {
                            continue
                        }
                        var td = document.createElement('td')
                        td.innerHTML = obj[i][k]
                        tr.appendChild(td)
                    }
                }
            })
        })
        search.onclick = function(){
            $("#Website").empty();
            var ajax = new XMLHttpRequest()
            ajax.open('GET','http://127.0.0.1:8001/Website/OutsideWeb?kw='+kw.value)
            ajax.send();
            ajax.onload = function(){
                var obj = eval(ajax.responseText)
                var tbody = document.getElementById('Website')
                for (var i = 0; i < obj.length; i++) {
                    var tr = document.createElement('tr')
                    tbody.appendChild(tr)
                    for (var k in obj[i]) {
                        if (k == "PictureId") {
                            continue
                        }
                        var td = document.createElement('td')
                        td.innerHTML = obj[i][k]
                        tr.appendChild(td)
                    }
                }
            }
        }
    </script>
</body>

</html>